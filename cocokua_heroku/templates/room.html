{% extends "base.html" %}

{% block css %}
<link href="../static/css/room.css" rel="stylesheet">
<link href="../static/css/chatwindow.css" rel="stylesheet">
<link href="../static/css/canvas.css" rel="stylesheet">
<link href="../static/css/switch.css" rel="stylesheet">
<link href="../static/css/phone.css" rel="stylesheet">
<link href="../static/jquery-ui/jquery-ui.min.css" rel="stylesheet">

{% endblock %}

{% block main %}
<div class='container'>
<div id="left">
	<div id="canvas">
		<div id='call-option'>
			<strong> Call to your friend: </strong>
			<button class="btn btn-primary" id="audio-btn" type="button">Audio</button>
			<button class="btn btn-primary" id="video-btn" type="button">Video</button>
		</div>
		<!-- Painting Tools -->
		<div id='wrapper'>
			<table id="option1">
				<tr><td><img id="marker" class="toolimg" src="../static/images/img/brush.png"  value="marker" alt="Brush" title="Brush"></img></td></tr>
				<tr><td><img id="text" class="toolimg" src="../static/images/img/text.png" alt="Text" title="Text"></td></tr>
				<tr><td><img id="sticker" class="toolimg" src="../static/images/img/sticker.png" alt="Sticker" title="Sticker"></td></tr>
			</table>
			<table id="option2">
				<tr class = 'setting marker'>
					<td><canvas id="preview_brush" width="100" height="100" ></canvas></td>
					<td>Color <input type="color" id="color_brush"></td>
					<td>Brush Width <input type="range" id="lineWidth" max=12 min=1 step=1 value=6></td>
				</tr>
				<tr class = 'setting text'>
					<td><canvas id="preview_text" width="110" height="100" ></canvas></td>
					<td>Text <input type="text" id="word" value=""></td>
					<td>Color <input type="color" id="color_text"></td>
					<td>Size <input type="range" id="fontSize" max=12 min=1 step=1 value=6></td>	
				</tr>
				<tr class = 'setting sticker'>
					<td><div id='sticker-holder'></div></td>
				</tr>
			</table>
		</div>
		<!-- Youtube Player -->
		<div id="player"></div>
		<!-- Canvas -->
		<canvas id="myCanvas1" width="854" height="430" style="top:70px; left:140px;"></canvas>
		<canvas id="myCanvas2" width="854" height="430" style="top:70px; left:140px;"></canvas>
		<canvas id="myCanvas3" width="854" height="430" style="top:70px; left:140px;"></canvas>
		<canvas id="myCanvas4" width="854" height="430" style="top:70px; left:140px;"></canvas>
		<canvas id="myCanvas5" width="854" height="430" style="top:70px; left:140px;"></canvas>
		<!-- Canvas Control -->
		<div id="canvascontrol">
			<span id="canvascontrol-label">Canvas</span>
			<div class="onoffswitch">
				<input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="canvasonoffswitch" checked>
				<label class="onoffswitch-label" for="canvasonoffswitch">
					<span class="onoffswitch-inner"></span>
					<span class="onoffswitch-switch"></span>
				</label>
			</div>
		</div>
	</div>
</div>		


<div id="right">
	<!-- Members List -->
	<div id="memberList">
		<div id="members"></div>
		<input id="invitebutton" type="button" value="Invite"></input>
	</div>

	<!-- Chat window -->
	<div id="chatwindow">
		<div id="textbox"></div>
		<div id="inputbox">
			<input id="sendbutton" type="button" value="Send"></input>
			<textarea id="msgtextarea"></textarea>
		</div>
	</div>
</div>
<div id="videoChat">
	<div id="draggable" class="ui-widget-content" style="display:none">
		<div id="video-display">
            <span class="glyphicon glyphicon-flash"></span>
        </div>
        <div class="row">
	 		<button id="dial" class="btn btn-primary">
	            <span class="glyphicon glyphicon-earphone"></span>
	        </button>
	        <button id="hangup" class="btn btn-danger">
	            <span class="glyphicon glyphicon-ban-circle"></span>
	        </button> 
    	</div>
	</div>
</div>
<!-- =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<!-- My Phone Number & Dial Areas -->
<!-- =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
<div class="container">
    <div class="row">

        <!-- =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
        <!-- MY PHONE NUMBER -->
        <!-- =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
        <div class="col-sm-6">
            <div id="my-number-section" class="text-center">
                <div id="my-number">LOADING</div>
                <div id="my-number-title" class="hidden-sm hidden-xs">
                    this is <strong>your phone number</strong>
                </div>
                <div id="my-number-permalink">
                    <span class="glyphicon glyphicon-link"></span>
                    call link:
                    <a id="my-number-link" href="...">https://...</a>
                </div>
            </div>
            <div id="pubnub-chat-section" class="text-center">
                <input id="pubnub-chat-input" type="text" placeholder="chat here">
                <div id="pubnub-chat-output"><div></div></div>
            </div>
        </div>

        <!-- =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
        <!-- Video -->
        <!-- =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
        <div class="col-sm-6">
            <!-- DISPLAY -->
            <div class="row">
                <div class="col-xs-12 text-center">
                    <div id="video-border">
                        <div class="pubnub-relative">
                            <div id="video-self">...834y8uask</div>
                        </div>
                        <div id="video-display">
                            <span class="glyphicon glyphicon-flash"></span>
                        </div>
                    </div>
                    <div id="pubnub-relative">
                        <div id="video-thumbnail"></div>
                        <div id="pubnub-logo">
                            <div id="pubnub-logo-img"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- DIAL CONTROLS -->
            <div class="row">
                <div class="col-sm-6 col-xs-7">
                    <div class="form-group"><div class="input-group">
                    <div class="input-group-addon">
                        <span class="glyphicon glyphicon-th"></span>
                    </div>
                    <input id="number" class="form-control" type="number" placeholder="Type Recipient's #">
                    </div></div>
                </div>
                <div class="col-sm-6 col-xs-5 dial-buttons">
                    <button id="dial" class="btn btn-primary">
                        <span class="glyphicon glyphicon-earphone"></span>
                    </button>
                    <button id="snap" class="btn btn-success">
                        <span class="glyphicon glyphicon-camera"></span>
                    </button>
                    <button id="hangup" class="btn btn-danger">
                        <span class="glyphicon glyphicon-ban-circle"></span>
                    </button>                    
                </div>
            </div>
        </div>
    </div>
</div>
</div>
{% endblock %}

{% block script %}
<script>
	var videoID = '{{v}}';
	var roomID = '{{r}}';
	console.log(videoID);
	if(videoID.length>11){
		videoID = videoID.split(/^[0-9a-z_\-]/i);
		videoID = videoID[0];
		console.log(videoID);
	}
</script>
<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
<script>
	if ( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
		alert("Sorry! This website does NOT support mobile device.");
		location.href = "/";
	}
</script>
<script src="https://www.youtube.com/iframe_api"></script>
<script src="https://cdn.pubnub.com/pubnub-3.14.7.js"></script>
<script src="../static/jquery-ui/jquery-ui.js"></script>
<script src="../static/js/videosync.js"></script>
<script src="../static/js/playersetup.js"></script>
<script src="../static/js/cookie.js"></script>
<script src="../static/sweetalert/sweetalert.min.js"></script>
<script src="../static/js/room_login.js"></script>
<script src="../static/js/govideoroom.js"></script>
<script src="../static/js/chatwindow.js"></script>
<script src='../static/js/canvas.js'></script>
<script src='../static/js/display.js'></script>
<script src="../static/sweetalert/sweetalert.min.js"></script>
<script src='../static/js/memberlist.js'></script>
<script src='../static/js/canvas_sync.js'></script>
<script src='../static/js/webrtc.js'></script>
<script src='../static/js/sound.js'></script>
<script src='../static/js/phone.js'></script>
{% endblock %}